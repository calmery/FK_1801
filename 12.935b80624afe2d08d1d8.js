(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"yB/4":function(n,t,e){"use strict";e.r(t);var l,r=e("CcnG"),i=(e("OO+k"),function(n,t,e,l){return new(e||(e=Promise))(function(r,i){function a(n){try{o(l.next(n))}catch(n){i(n)}}function u(n){try{o(l.throw(n))}catch(n){i(n)}}function o(n){n.done?r(n.value):new e(function(t){t(n.value)}).then(a,u)}o((l=l.apply(n,t||[])).next())})}),a=function(n,t){var e,l,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,l&&(r=2&i[0]?l.return:i[0]?l.throw||((r=l.return)&&r.call(l),0):l.next)&&!(r=r.call(l,i[1])).done)return r;switch(l=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,l=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(n){i=[6,n],l=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};!function(n){n.Environment="environment",n.User="user"}(l||(l={}));var u=function(){function n(n,t,e,r){this.navCtrl=n,this.alertCtrl=t,this.loadingCtrl=e,this.platform=r,this.stream=null,this.cameraMode=l.Environment,this.loading=null}return n.prototype.getStream=function(){return i(this,void 0,void 0,function(){var n,t,e,l,r=this;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,5,6]),n=this,[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!1===r.isMobile||{facingMode:{exact:r.cameraMode}}})];case 1:return n.stream=i.sent(),t=this.stream.getVideoTracks()[0].getSettings().width,e=this.stream.getVideoTracks()[0].getSettings().height,this.camera.nativeElement.style.width=t+"px",this.camera.nativeElement.style.height=e+"px",this.camera.nativeElement.style.margin="-"+e/2+"px 0 0 -"+t/2+"px",this.video.nativeElement.srcObject=this.stream,[3,6];case 2:return l=i.sent(),[4,this.alertCtrl.create({header:"Failed",subHeader:l.message,buttons:["OK"]})];case 3:return[4,i.sent().present()];case 4:return i.sent(),[3,6];case 5:return this.loading&&(this.loading.dismiss(),this.loading=null),[7];case 6:return[2]}})})},n.prototype.ngOnInit=function(){return i(this,void 0,void 0,function(){var n;return a(this,function(t){switch(t.label){case 0:return n=this,[4,this.loadingCtrl.create()];case 1:return n.loading=t.sent(),[4,this.loading.present()];case 2:return t.sent(),this.getStream(),[2]}})})},Object.defineProperty(n.prototype,"isMobile",{get:function(){return this.platform.is("ios")||this.platform.is("android")},enumerable:!0,configurable:!0}),n.prototype.cameraToggle=function(){return i(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return this.loading=this.loadingCtrl.create(),[4,this.loading.present()];case 1:switch(n.sent(),this.cameraMode){case l.Environment:this.cameraMode=l.User;break;case l.User:default:this.cameraMode=l.Environment}return this.resetStream(),this.getStream(),[2]}})})},n.prototype.capture=function(){var n=this.stream.getVideoTracks()[0].getSettings().width,t=this.stream.getVideoTracks()[0].getSettings().height,e=document.createElement("canvas");e.width=n,e.height=t,e.getContext("2d").drawImage(this.video.nativeElement,0,0,n,t),this.save(e.toDataURL("image/png"))},n.prototype.resetStream=function(){this.video.nativeElement.srcObject=null,this.stream=null},n.prototype.save=function(n){console.log(n)},n}(),o=function(){},s=e("pMnS"),c=e("ra/t"),b=e("ntG5"),p=e("Ip0R"),h=e("tXrQ"),d=e("CssM"),m=e("Eq7r"),f=e("YxxD"),g=r.qb({encapsulation:0,styles:[[".menuToggle[_ngcontent-%COMP%]{margin:16px;position:fixed;top:0;left:0;z-index:3}.reverse[_ngcontent-%COMP%]{margin:16px;position:fixed;top:0;right:0;z-index:3}.capture[_ngcontent-%COMP%]{width:50px;height:50px;background:#3c3c3c;text-align:center;line-height:50px;color:#fff;border-radius:100%;bottom:16px;position:fixed;z-index:3;left:50%;margin:0 0 0 -25px}.camera[_ngcontent-%COMP%]{top:50%;left:50%;position:fixed;z-index:1}.camera[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:0;left:50px;width:225px}"]],data:{}});function v(n){return r.Gb(0,[(n()(),r.sb(0,0,null,null,2,"div",[["class","reverse"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.cameraToggle()&&l),l},null,null)),(n()(),r.sb(1,0,null,null,1,"ion-icon",[["name","reverse-camera"]],null,null,null,c.t,c.e)),r.rb(2,49152,null,0,b.A,[r.l],{name:[0,"name"]},null)],function(n,t){n(t,2,0,"reverse-camera")},null)}function y(n){return r.Gb(0,[r.Db(402653184,1,{camera:0}),r.Db(402653184,2,{video:0}),(n()(),r.sb(2,0,null,null,10,"ion-header",[],null,null,null,c.s,c.d)),r.rb(3,49152,null,0,b.y,[r.l],null,null),(n()(),r.sb(4,0,null,0,8,"ion-toolbar",[],null,null,null,c.D,c.n)),r.rb(5,49152,null,0,b.xb,[r.l],null,null),(n()(),r.sb(6,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,c.q,c.b)),r.rb(7,49152,null,0,b.g,[],null,null),(n()(),r.sb(8,0,null,0,1,"ion-menu-button",[],null,null,null,c.y,c.k)),r.rb(9,49152,null,0,b.P,[r.l],null,null),(n()(),r.sb(10,0,null,0,2,"ion-title",[],null,null,null,c.C,c.o)),r.rb(11,49152,null,0,b.yb,[r.l],null,null),(n()(),r.Fb(-1,0,[" Top "])),(n()(),r.sb(13,0,null,null,8,"ion-content",[["padding",""]],null,null,null,c.r,c.c)),r.rb(14,49152,null,0,b.r,[r.l],null,null),(n()(),r.jb(16777216,null,0,1,null,v)),r.rb(16,16384,null,0,p.i,[r.R,r.O],{ngIf:[0,"ngIf"]},null),(n()(),r.sb(17,0,null,0,2,"div",[["class","capture"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.capture()&&l),l},null,null)),(n()(),r.sb(18,0,null,null,1,"ion-icon",[["name","camera"]],null,null,null,c.t,c.e)),r.rb(19,49152,null,0,b.A,[r.l],{name:[0,"name"]},null),(n()(),r.sb(20,0,[[1,0],["camera",1]],0,1,"div",[["class","camera"]],null,null,null,null,null)),(n()(),r.sb(21,0,[[2,0],["video",1]],null,0,"video",[["autoplay",""],["muted",""],["playsinline",""]],null,null,null,null,null))],function(n,t){n(t,16,0,t.component.isMobile),n(t,19,0,"camera")},null)}var x=r.ob("app-top",u,function(n){return r.Gb(0,[(n()(),r.sb(0,0,null,null,1,"app-top",[],null,null,null,y,g)),r.rb(1,114688,null,0,u,[h.a,d.a,m.a,f.a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),w=e("gIcY"),k=e("95zI"),z=e("9opb"),M=e("apKv"),C=e("B4/3"),O=e("ZYCi");e.d(t,"TopPageModuleNgFactory",function(){return E});var E=r.pb(o,[],function(n){return r.yb([r.zb(512,r.k,r.eb,[[8,[s.a,x]],[3,r.k],r.z]),r.zb(4608,p.k,p.j,[r.w,[2,p.q]]),r.zb(4608,w.c,w.c,[]),r.zb(4608,k.a,k.a,[r.B,r.g]),r.zb(4608,z.a,z.a,[k.a,r.k,r.s]),r.zb(4608,M.a,M.a,[k.a,r.k,r.s]),r.zb(1073742336,p.b,p.b,[]),r.zb(1073742336,w.b,w.b,[]),r.zb(1073742336,w.a,w.a,[]),r.zb(1073742336,C.a,C.a,[]),r.zb(1073742336,O.n,O.n,[[2,O.t],[2,O.l]]),r.zb(1073742336,o,o,[]),r.zb(1024,O.j,function(){return[[{path:"",component:u}]]},[])])})}}]);